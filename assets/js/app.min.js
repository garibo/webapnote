$(document).ready(function(){$.fn.reset=function(){$(this).each(function(){this.reset()})},$("#addUsuario").submit(function(e){e.preventDefault(),$.post("welcome/registrarUsuario",$(this).serialize(),function(e){1==e?($("#addUsuario").animate({opacity:"0",display:"none"},500),$("#app-policy").animate({opacity:"0",display:"none"},500),$("#app-success-msg").delay(300).animate({opacity:"1",display:"inherit","z-index":"9999"},500).delay(2e3),$("#register-modal").delay(5e3).foundation("reveal","close"),$("#addUsuario").reset(),$("#app-success-msg").delay(5e3).animate({opacity:"0",display:"none","z-index":"0"},500),$("#addUsuario").delay(5e3).animate({opacity:"1",display:"inherit"},500),$("#app-policy").delay(5e3).animate({opacity:"1",display:"inherit"},500)):($(".app-error-data").html(e),$("#addUsuario").animate({opacity:"0",display:"none"},500),$("#app-policy").animate({opacity:"0",display:"none"},500),$("#app-error-msg").delay(300).animate({opacity:"1",display:"inherit","z-index":"9999"},500))})}),$(".close-error-msg").click(function(){$("#app-error-msg").animate({opacity:"0",display:"none"},500).css("z-index","0"),$("#addUsuario").delay(500).animate({opacity:"1",display:"inherit"},500),$("#app-policy").animate({opacity:"1",display:"inherit"},500)}),$("#app-signin").submit(function(e){e.preventDefault(),$.post("welcome/addLogin",$(this).serialize(),function(e){1==e?location.href="dashboard":setTimeout(function(){var e=new NotificationFx({message:'<p style="font-size: 14px;">El Correo Eletronico y/o Contraseña son incorrectos.</p>',layout:"growl",effect:"jelly",type:"notice"});e.show()},100)})}),$("html").click(function(){$(".app-icon-widget").removeClass("app-icon-widget-base"),$(".app-icon-comment").removeClass("app-icon-widget-base")}),$("#add-form-org").submit(function(e){e.preventDefault();var a;$.ajax({type:"POST",url:"organizaciones/addO",data:$(this).serialize(),dataType:"json",success:function(e){a=0,console.log(e);for(var o=0;o<e.length;o++)""===e[o].error?$("#"+e[o].campo+" .span-error").html("").removeClass("show").addClass("hide"):($("#"+e[o].campo+" .span-error").html(e[o].error).removeClass("hide").addClass("show"),a+=1);console.log(a),0===a&&($("#app-add-org").foundation("reveal","close"),$("#add-form-org").reset(),alert("Registro Correcto"),location.href="organizaciones")}})}),$(".close-error-msg-org").click(function(){$("#app-error-msg-org").animate({opacity:"0",display:"none"},500).css("z-index","0"),$("#add-form-org").delay(500).animate({opacity:"1",display:"inherit"},500),$(".error-title").animate({opacity:"1",display:"inherit"},500)}),$("#reg-user-t").click(function(){$("#add-user-te").slideToggle("slow")}),$("#cancel-team").click(function(){$("#add-user-te").slideToggle("slow")}),$("#org-options").change(function(){var e="",a="";$("#org-options option:selected").each(function(){e+=$(this).val()+"",0===e?console.log(e):(a="proyectos/selected/"+e,location.href=a)})}),$("#btn-open-pro").click(function(){$("#panel-form-id").slideToggle("slow")}),$("#phone-edit").validations("0123456789"),$("#phone-input").validations("0123456789"),$("a#del").click(function(e){var a=$(this).attr("value");$.ajax({url:"organizaciones/delete/"+a,dataType:"text",success:function(e){1==e?location.href="organizaciones":setTimeout(function(){var e=new NotificationFx({message:'<p style="font-size: 14px;">La organización contiene Usuarios o Proyectos registrados. No se puede eliminar la organización.</p>',layout:"growl",effect:"slide",type:"notice"});e.show()},1200)}}),e.preventDefault()}),$("#add-team-user").submit(function(e){e.preventDefault();var a,o=$(this).attr("value");$.ajax({type:"POST",url:"/organizaciones/updateUsers/"+o,data:$(this).serialize(),dataType:"json",success:function(e){a=0,console.log(e);for(var i=0;i<e.length;i++)""===e[i].error?$("#"+e[i].campo+" .span-error").html("").removeClass("show").addClass("hide"):($("#"+e[i].campo+" .span-error").html(e[i].error).removeClass("hide").addClass("show"),a+=1);0===a&&($("#add-user-te").slideToggle("slow"),$("#add-team-user").reset(),setTimeout(function(){var e=new NotificationFx({message:'<p style="font-size: 14px;">Nuevo usuario agregado al equipo de trabajo.</p>',layout:"growl",effect:"slide",type:"notice",onClose:function(){setTimeout(function(){location.href="/organizaciones/team/"+o},700)}});e.show()},100))}})})});